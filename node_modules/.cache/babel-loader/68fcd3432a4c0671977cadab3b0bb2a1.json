{"ast":null,"code":"import React from 'react';\nimport { Autocomplete, Box, Select, TextInput, TextInputWithTokens, useSSRSafeId } from '..';\nimport InputValidation from '../_InputValidation';\nimport InputFieldCaption from './_InputFieldCaption';\nimport InputFieldLabel from './_InputFieldLabel';\nimport InputFieldValidation from './_InputFieldValidation';\nimport { Slots } from './slots';\nimport ValidationAnimationContainer from '../_ValidationAnimationContainer';\n\nconst InputField = _ref => {\n  let {\n    children,\n    disabled,\n    id: idProp,\n    required,\n    validationMap,\n    validationResult\n  } = _ref;\n\n  var _React$Children$map, _React$Children$map2;\n\n  const expectedInputComponents = [TextInput, TextInputWithTokens, Autocomplete, Select];\n  const id = useSSRSafeId(idProp);\n  const validationChildren = (_React$Children$map = React.Children.map(children, child => /*#__PURE__*/React.isValidElement(child) && child.type === InputFieldValidation ? child : null)) === null || _React$Children$map === void 0 ? void 0 : _React$Children$map.filter(Boolean);\n  const captionChildren = (_React$Children$map2 = React.Children.map(children, child => /*#__PURE__*/React.isValidElement(child) && child.type === InputFieldCaption ? child : null)) === null || _React$Children$map2 === void 0 ? void 0 : _React$Children$map2.filter(Boolean);\n  const labelChild = React.Children.toArray(children).find(child => /*#__PURE__*/React.isValidElement(child) && child.type === InputFieldLabel);\n  const validationChildToRender = validationChildren === null || validationChildren === void 0 ? void 0 : validationChildren.find(child => child.props.validationKey === validationResult);\n  const validationMessageId = validationChildToRender ? `${id}-validationMsg` : undefined;\n  const captionId = captionChildren !== null && captionChildren !== void 0 && captionChildren.length ? `${id}-caption` : undefined;\n  const InputComponent = React.Children.toArray(children).find(child => expectedInputComponents.some(inputComponent => /*#__PURE__*/React.isValidElement(child) && child.type === inputComponent));\n  const inputProps = /*#__PURE__*/React.isValidElement(InputComponent) ? InputComponent.props : undefined;\n\n  if (!InputComponent) {\n    // eslint-disable-next-line no-console\n    console.warn(`To correctly render this field with the correct ARIA attributes passed to the input, please pass one of the component from @primer/react as a direct child of the InputField component:\n      - TextInput\n      - TextInputWithTokens\n      - Autocomplete`);\n  } else {\n    if (inputProps !== null && inputProps !== void 0 && inputProps.id) {\n      // eslint-disable-next-line no-console\n      console.warn(`instead of passing the 'id' prop directly to the input component, it should be passed to the parent component, <InputField>`);\n    }\n\n    if (inputProps !== null && inputProps !== void 0 && inputProps.disabled) {\n      // eslint-disable-next-line no-console\n      console.warn(`instead of passing the 'disabled' prop directly to the input component, it should be passed to the parent component, <InputField>`);\n    }\n\n    if (inputProps !== null && inputProps !== void 0 && inputProps.required) {\n      // eslint-disable-next-line no-console\n      console.warn(`instead of passing the 'required' prop directly to the input component, it should be passed to the parent component, <InputField>`);\n    }\n  }\n\n  if (!labelChild) {\n    // eslint-disable-next-line no-console\n    console.error(`The input field with the id ${id} MUST have a InputField.Label child.\\n\\nIf you want to hide the label, pass the 'visuallyHidden' prop to the InputField.Label component.`);\n  }\n\n  return /*#__PURE__*/React.createElement(Slots, {\n    context: {\n      captionId,\n      disabled,\n      id,\n      required,\n      validationMessageId\n    }\n  }, slots => {\n    const isLabelHidden = /*#__PURE__*/React.isValidElement(slots.Label) && slots.Label.props.visuallyHidden;\n    return /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      flexDirection: \"column\",\n      width: \"100%\",\n      sx: isLabelHidden ? {\n        '> *:not(label) + *': {\n          marginTop: 2\n        }\n      } : {\n        '> * + *': {\n          marginTop: 2\n        }\n      }\n    }, React.Children.toArray(children).filter(child => /*#__PURE__*/React.isValidElement(child) && child.type !== InputFieldValidation && !expectedInputComponents.some(inputComponent => child.type === inputComponent)), slots.Label, /*#__PURE__*/React.isValidElement(InputComponent) && /*#__PURE__*/React.cloneElement(InputComponent, {\n      id,\n      required,\n      disabled,\n      ['aria-describedby']: [validationMessageId, captionId].filter(Boolean).join(' ')\n    }), validationChildToRender && validationMap && validationResult && validationMessageId && /*#__PURE__*/React.createElement(ValidationAnimationContainer, {\n      show: true\n    }, /*#__PURE__*/React.createElement(InputValidation, {\n      validationStatus: validationMap[validationResult],\n      id: validationMessageId\n    }, validationChildToRender)), slots.Caption);\n  });\n};\n\nInputField.displayName = \"InputField\";\nexport default Object.assign(InputField, {\n  Caption: InputFieldCaption,\n  Label: InputFieldLabel,\n  Validation: InputFieldValidation\n});","map":{"version":3,"sources":["/home/lorenzo/Documenti/Portfolio/node_modules/@primer/react/lib-esm/InputField/InputField.js"],"names":["React","Autocomplete","Box","Select","TextInput","TextInputWithTokens","useSSRSafeId","InputValidation","InputFieldCaption","InputFieldLabel","InputFieldValidation","Slots","ValidationAnimationContainer","InputField","children","disabled","id","idProp","required","validationMap","validationResult","_React$Children$map","_React$Children$map2","expectedInputComponents","validationChildren","Children","map","child","isValidElement","type","filter","Boolean","captionChildren","labelChild","toArray","find","validationChildToRender","props","validationKey","validationMessageId","undefined","captionId","length","InputComponent","some","inputComponent","inputProps","console","warn","error","createElement","context","slots","isLabelHidden","Label","visuallyHidden","display","flexDirection","width","sx","marginTop","cloneElement","join","show","validationStatus","Caption","displayName","Object","assign","Validation"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Autocomplete, Box, Select, TextInput, TextInputWithTokens, useSSRSafeId } from '..';\nimport InputValidation from '../_InputValidation';\nimport InputFieldCaption from './_InputFieldCaption';\nimport InputFieldLabel from './_InputFieldLabel';\nimport InputFieldValidation from './_InputFieldValidation';\nimport { Slots } from './slots';\nimport ValidationAnimationContainer from '../_ValidationAnimationContainer';\n\nconst InputField = ({\n  children,\n  disabled,\n  id: idProp,\n  required,\n  validationMap,\n  validationResult\n}) => {\n  var _React$Children$map, _React$Children$map2;\n\n  const expectedInputComponents = [TextInput, TextInputWithTokens, Autocomplete, Select];\n  const id = useSSRSafeId(idProp);\n  const validationChildren = (_React$Children$map = React.Children.map(children, child => /*#__PURE__*/React.isValidElement(child) && child.type === InputFieldValidation ? child : null)) === null || _React$Children$map === void 0 ? void 0 : _React$Children$map.filter(Boolean);\n  const captionChildren = (_React$Children$map2 = React.Children.map(children, child => /*#__PURE__*/React.isValidElement(child) && child.type === InputFieldCaption ? child : null)) === null || _React$Children$map2 === void 0 ? void 0 : _React$Children$map2.filter(Boolean);\n  const labelChild = React.Children.toArray(children).find(child => /*#__PURE__*/React.isValidElement(child) && child.type === InputFieldLabel);\n  const validationChildToRender = validationChildren === null || validationChildren === void 0 ? void 0 : validationChildren.find(child => child.props.validationKey === validationResult);\n  const validationMessageId = validationChildToRender ? `${id}-validationMsg` : undefined;\n  const captionId = captionChildren !== null && captionChildren !== void 0 && captionChildren.length ? `${id}-caption` : undefined;\n  const InputComponent = React.Children.toArray(children).find(child => expectedInputComponents.some(inputComponent => /*#__PURE__*/React.isValidElement(child) && child.type === inputComponent));\n  const inputProps = /*#__PURE__*/React.isValidElement(InputComponent) ? InputComponent.props : undefined;\n\n  if (!InputComponent) {\n    // eslint-disable-next-line no-console\n    console.warn(`To correctly render this field with the correct ARIA attributes passed to the input, please pass one of the component from @primer/react as a direct child of the InputField component:\n      - TextInput\n      - TextInputWithTokens\n      - Autocomplete`);\n  } else {\n    if (inputProps !== null && inputProps !== void 0 && inputProps.id) {\n      // eslint-disable-next-line no-console\n      console.warn(`instead of passing the 'id' prop directly to the input component, it should be passed to the parent component, <InputField>`);\n    }\n\n    if (inputProps !== null && inputProps !== void 0 && inputProps.disabled) {\n      // eslint-disable-next-line no-console\n      console.warn(`instead of passing the 'disabled' prop directly to the input component, it should be passed to the parent component, <InputField>`);\n    }\n\n    if (inputProps !== null && inputProps !== void 0 && inputProps.required) {\n      // eslint-disable-next-line no-console\n      console.warn(`instead of passing the 'required' prop directly to the input component, it should be passed to the parent component, <InputField>`);\n    }\n  }\n\n  if (!labelChild) {\n    // eslint-disable-next-line no-console\n    console.error(`The input field with the id ${id} MUST have a InputField.Label child.\\n\\nIf you want to hide the label, pass the 'visuallyHidden' prop to the InputField.Label component.`);\n  }\n\n  return /*#__PURE__*/React.createElement(Slots, {\n    context: {\n      captionId,\n      disabled,\n      id,\n      required,\n      validationMessageId\n    }\n  }, slots => {\n    const isLabelHidden = /*#__PURE__*/React.isValidElement(slots.Label) && slots.Label.props.visuallyHidden;\n    return /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      flexDirection: \"column\",\n      width: \"100%\",\n      sx: isLabelHidden ? {\n        '> *:not(label) + *': {\n          marginTop: 2\n        }\n      } : {\n        '> * + *': {\n          marginTop: 2\n        }\n      }\n    }, React.Children.toArray(children).filter(child => /*#__PURE__*/React.isValidElement(child) && child.type !== InputFieldValidation && !expectedInputComponents.some(inputComponent => child.type === inputComponent)), slots.Label, /*#__PURE__*/React.isValidElement(InputComponent) && /*#__PURE__*/React.cloneElement(InputComponent, {\n      id,\n      required,\n      disabled,\n      ['aria-describedby']: [validationMessageId, captionId].filter(Boolean).join(' ')\n    }), validationChildToRender && validationMap && validationResult && validationMessageId && /*#__PURE__*/React.createElement(ValidationAnimationContainer, {\n      show: true\n    }, /*#__PURE__*/React.createElement(InputValidation, {\n      validationStatus: validationMap[validationResult],\n      id: validationMessageId\n    }, validationChildToRender)), slots.Caption);\n  });\n};\n\nInputField.displayName = \"InputField\";\nexport default Object.assign(InputField, {\n  Caption: InputFieldCaption,\n  Label: InputFieldLabel,\n  Validation: InputFieldValidation\n});"]},"metadata":{},"sourceType":"module"}