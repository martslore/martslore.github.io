{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { List } from './ActionList/List';\nimport { Item } from './ActionList/Item';\nimport { Divider } from './ActionList/Divider';\nimport Button from './Button';\nimport React, { useCallback, useMemo } from 'react';\nimport { AnchoredOverlay } from './AnchoredOverlay';\nimport { useProvidedStateOrCreate } from './hooks/useProvidedStateOrCreate';\nimport { useProvidedRefOrCreate } from './hooks';\n\nconst ActionMenuItem = props => /*#__PURE__*/React.createElement(Item, _extends({\n  role: \"menuitem\"\n}, props));\n\nActionMenuItem.displayName = \"ActionMenuItem\";\nActionMenuItem.displayName = 'ActionMenu.Item';\n\nconst ActionMenuBase = _ref => {\n  let {\n    anchorContent,\n    renderAnchor = props => /*#__PURE__*/React.createElement(Button, props),\n    anchorRef: externalAnchorRef,\n    onAction,\n    open,\n    setOpen,\n    overlayProps,\n    items,\n    ...listProps\n  } = _ref;\n  const [combinedOpenState, setCombinedOpenState] = useProvidedStateOrCreate(open, setOpen, false);\n  const anchorRef = useProvidedRefOrCreate(externalAnchorRef);\n  const onOpen = useCallback(() => setCombinedOpenState(true), [setCombinedOpenState]);\n  const onClose = useCallback(() => setCombinedOpenState(false), [setCombinedOpenState]);\n  const renderMenuAnchor = useMemo(() => {\n    if (renderAnchor === null) {\n      return null;\n    }\n\n    return props => {\n      return renderAnchor({\n        'aria-label': 'menu',\n        children: anchorContent,\n        ...props\n      });\n    };\n  }, [anchorContent, renderAnchor]);\n  const itemsToRender = useMemo(() => {\n    return items.map(item => {\n      return { ...item,\n        role: 'menuitem',\n        onAction: (props, event) => {\n          var _item$onAction;\n\n          const actionCallback = (_item$onAction = item.onAction) !== null && _item$onAction !== void 0 ? _item$onAction : onAction;\n          actionCallback === null || actionCallback === void 0 ? void 0 : actionCallback(props, event);\n\n          if (!event.defaultPrevented) {\n            onClose();\n          }\n        }\n      };\n    });\n  }, [items, onAction, onClose]);\n  return /*#__PURE__*/React.createElement(AnchoredOverlay, {\n    renderAnchor: renderMenuAnchor,\n    anchorRef: anchorRef,\n    open: combinedOpenState,\n    onOpen: onOpen,\n    onClose: onClose,\n    overlayProps: overlayProps\n  }, /*#__PURE__*/React.createElement(List, _extends({}, listProps, {\n    role: \"menu\",\n    items: itemsToRender\n  })));\n};\n\nActionMenuBase.displayName = \"ActionMenuBase\";\nActionMenuBase.displayName = 'ActionMenu';\nexport const ActionMenu = Object.assign(ActionMenuBase, {\n  Divider,\n  Item: ActionMenuItem\n});","map":{"version":3,"sources":["/home/lorenzo/Documenti/Portfolio/node_modules/@primer/react/lib-esm/ActionMenu.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","List","Item","Divider","Button","React","useCallback","useMemo","AnchoredOverlay","useProvidedStateOrCreate","useProvidedRefOrCreate","ActionMenuItem","props","createElement","role","displayName","ActionMenuBase","anchorContent","renderAnchor","anchorRef","externalAnchorRef","onAction","open","setOpen","overlayProps","items","listProps","combinedOpenState","setCombinedOpenState","onOpen","onClose","renderMenuAnchor","children","itemsToRender","map","item","event","_item$onAction","actionCallback","defaultPrevented","ActionMenu"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { List } from './ActionList/List';\nimport { Item } from './ActionList/Item';\nimport { Divider } from './ActionList/Divider';\nimport Button from './Button';\nimport React, { useCallback, useMemo } from 'react';\nimport { AnchoredOverlay } from './AnchoredOverlay';\nimport { useProvidedStateOrCreate } from './hooks/useProvidedStateOrCreate';\nimport { useProvidedRefOrCreate } from './hooks';\n\nconst ActionMenuItem = props => /*#__PURE__*/React.createElement(Item, _extends({\n  role: \"menuitem\"\n}, props));\n\nActionMenuItem.displayName = \"ActionMenuItem\";\nActionMenuItem.displayName = 'ActionMenu.Item';\n\nconst ActionMenuBase = ({\n  anchorContent,\n  renderAnchor = props => /*#__PURE__*/React.createElement(Button, props),\n  anchorRef: externalAnchorRef,\n  onAction,\n  open,\n  setOpen,\n  overlayProps,\n  items,\n  ...listProps\n}) => {\n  const [combinedOpenState, setCombinedOpenState] = useProvidedStateOrCreate(open, setOpen, false);\n  const anchorRef = useProvidedRefOrCreate(externalAnchorRef);\n  const onOpen = useCallback(() => setCombinedOpenState(true), [setCombinedOpenState]);\n  const onClose = useCallback(() => setCombinedOpenState(false), [setCombinedOpenState]);\n  const renderMenuAnchor = useMemo(() => {\n    if (renderAnchor === null) {\n      return null;\n    }\n\n    return props => {\n      return renderAnchor({\n        'aria-label': 'menu',\n        children: anchorContent,\n        ...props\n      });\n    };\n  }, [anchorContent, renderAnchor]);\n  const itemsToRender = useMemo(() => {\n    return items.map(item => {\n      return { ...item,\n        role: 'menuitem',\n        onAction: (props, event) => {\n          var _item$onAction;\n\n          const actionCallback = (_item$onAction = item.onAction) !== null && _item$onAction !== void 0 ? _item$onAction : onAction;\n          actionCallback === null || actionCallback === void 0 ? void 0 : actionCallback(props, event);\n\n          if (!event.defaultPrevented) {\n            onClose();\n          }\n        }\n      };\n    });\n  }, [items, onAction, onClose]);\n  return /*#__PURE__*/React.createElement(AnchoredOverlay, {\n    renderAnchor: renderMenuAnchor,\n    anchorRef: anchorRef,\n    open: combinedOpenState,\n    onOpen: onOpen,\n    onClose: onClose,\n    overlayProps: overlayProps\n  }, /*#__PURE__*/React.createElement(List, _extends({}, listProps, {\n    role: \"menu\",\n    items: itemsToRender\n  })));\n};\n\nActionMenuBase.displayName = \"ActionMenuBase\";\nActionMenuBase.displayName = 'ActionMenu';\nexport const ActionMenu = Object.assign(ActionMenuBase, {\n  Divider,\n  Item: ActionMenuItem\n});"]},"metadata":{},"sourceType":"module"}